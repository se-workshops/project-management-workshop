# 要件定義書

## プロジェクト概要

| 項目 | 内容 |
|------|------|
| プロジェクト名 | PC Parts Shop（パソコン用品ECサイト） |
| アプリケーション種別 | SPA（Single Page Application） |
| 使用技術 | React |
| データ永続化 | なし（サーバーメモリ上に保持、アプリ終了時にフラッシュ） |
| **対応言語** | **日本語（ja）、英語（en）** |

---

## 1. 機能要件

### 1.1 ユーザー機能

#### 1.1.1 ユーザー認証
| ID | 機能 | 説明 |
|----|------|------|
| U-001 | ログイン | ダミーユーザーデータを使用したログイン機能 |
| U-002 | ログアウト | セッション終了機能 |
| U-003 | ユーザー情報表示 | ログイン中のユーザー情報をヘッダーに表示 |

#### 1.1.2 商品閲覧
| ID | 機能 | 説明 |
|----|------|------|
| P-001 | 商品一覧表示 | パソコン用品の一覧をカード形式で表示 |
| P-002 | 商品詳細表示 | 商品の詳細情報（スペック、価格、在庫等）を表示 |
| P-003 | カテゴリフィルタ | カテゴリ別に商品を絞り込み |
| P-004 | 商品検索 | キーワードによる商品検索 |
| P-005 | 並び替え | 価格順、名前順での並び替え |

#### 1.1.3 カート機能
| ID | 機能 | 説明 |
|----|------|------|
| C-001 | カートに追加 | 商品をカートに追加（数量指定可） |
| C-002 | カート内容表示 | カート内の商品一覧と合計金額を表示 |
| C-003 | 数量変更 | カート内商品の数量を変更 |
| C-004 | 商品削除 | カートから商品を削除 |
| C-005 | カートクリア | カート内の全商品を削除 |

#### 1.1.4 注文機能
| ID | 機能 | 説明 |
|----|------|------|
| O-001 | 注文確認 | 注文内容の最終確認画面 |
| O-002 | 注文確定 | 注文を確定し、在庫を減少 |
| O-003 | 注文履歴表示 | 過去の注文履歴を表示 |

#### 1.1.5 多言語対応機能（i18n）
| ID | 機能 | 説明 |
|----|------|------|
| I18N-001 | 言語切り替え | ヘッダーから日本語/英語を切り替え可能 |
| I18N-002 | 言語設定保持 | 選択した言語をLocalStorageに保存し、次回アクセス時に復元 |
| I18N-003 | ブラウザ言語検出 | 初回アクセス時にブラウザの言語設定を検出し、対応言語であれば自動適用 |
| I18N-004 | UIテキスト多言語化 | ボタン、ラベル、メッセージ等のUIテキストを言語別に表示 |
| I18N-005 | 商品情報多言語化 | 商品名、説明、カテゴリ名を言語別に表示 |
| I18N-006 | エラーメッセージ多言語化 | バリデーションエラー、システムエラー等のメッセージを言語別に表示 |
| I18N-007 | 日付・数値フォーマット | 言語に応じた日付・数値・通貨フォーマットで表示 |

---

### 1.2 商品カテゴリ

パソコン用品として以下のカテゴリを扱う：

| カテゴリID | カテゴリ名（日本語） | カテゴリ名（英語） | 例 |
|-----------|-------------------|------------------|-----|
| CAT-001 | CPU | CPU | Intel Core i9, AMD Ryzen 9 |
| CAT-002 | GPU | Graphics Card | NVIDIA GeForce RTX, AMD Radeon |
| CAT-003 | メモリ | Memory | DDR5, DDR4 RAM |
| CAT-004 | ストレージ | Storage | SSD, HDD |
| CAT-005 | マザーボード | Motherboard | ATX, Micro-ATX |
| CAT-006 | 電源ユニット | Power Supply | 750W, 1000W PSU |
| CAT-007 | PCケース | PC Case | タワー型, コンパクト型 |
| CAT-008 | 周辺機器 | Peripherals | キーボード, マウス, モニター |

---

## 2. 非機能要件

### 2.1 性能要件
| 項目 | 要件 |
|------|------|
| ページ読み込み時間 | 3秒以内 |
| レスポンス時間 | 1秒以内 |
| **言語切り替え時間** | **0.5秒以内（ページリロードなし）** |

### 2.2 対応ブラウザ
- Google Chrome（最新版）
- Mozilla Firefox（最新版）
- Microsoft Edge（最新版）
- Safari（最新版）

### 2.3 レスポンシブ対応
- デスクトップ（1200px以上）
- タブレット（768px〜1199px）
- モバイル（767px以下）

### 2.4 多言語対応要件
| 項目 | 要件 |
|------|------|
| 対応言語 | 日本語（ja）、英語（en） |
| デフォルト言語 | 日本語（ja） |
| フォールバック言語 | 日本語（ja） - 翻訳が存在しない場合 |
| 言語切り替え | クライアントサイドで即時反映（ページリロード不要） |
| 翻訳カバー率 | 100%（すべてのUIテキストを翻訳） |

---

## 3. データ要件

### 3.1 ダミーデータ

アプリケーション起動時に以下のダミーデータを読み込む：

#### 3.1.1 ユーザーデータ
```
- ユーザーID
- ユーザー名
- メールアドレス
- パスワード（ハッシュ化不要、デモ用）
```

#### 3.1.2 商品データ
```
- 商品ID
- 商品名（日本語）
- 商品名（英語）
- カテゴリID
- 価格
- 在庫数
- 商品説明（日本語）
- 商品説明（英語）
- スペック情報
- 画像URL（プレースホルダー使用可）
```

#### 3.1.3 カテゴリデータ
```
- カテゴリID
- カテゴリ名（日本語）
- カテゴリ名（英語）
- 説明（日本語）
- 説明（英語）
```

#### 3.1.4 注文データ
```
- 注文ID
- ユーザーID
- 注文日時
- 注文明細（商品ID、数量、単価）
- 合計金額
- 注文ステータス
```

#### 3.1.5 翻訳データ
```
- 名前空間（common, product, cart, order, error）
- 翻訳キー
- 日本語テキスト
- 英語テキスト
```

### 3.2 データ永続化
- データはサーバーメモリ上に保持
- アプリケーション終了（Terminate）時にデータは全てフラッシュ（消去）
- 再起動時にダミーデータから初期状態に復元
- **言語設定はクライアントのLocalStorageに保存**

---

## 4. 画面一覧

| 画面ID | 画面名（日本語） | 画面名（英語） | 説明 |
|--------|----------------|---------------|------|
| SCR-001 | ログイン画面 | Login | ユーザー認証画面 |
| SCR-002 | 商品一覧画面 | Products | 商品のグリッド表示 |
| SCR-003 | 商品詳細画面 | Product Detail | 商品の詳細情報表示 |
| SCR-004 | カート画面 | Shopping Cart | カート内容の表示・編集 |
| SCR-005 | 注文確認画面 | Checkout | 注文内容の最終確認 |
| SCR-006 | 注文完了画面 | Order Complete | 注文完了メッセージ表示 |
| SCR-007 | 注文履歴画面 | Order History | 過去の注文一覧 |

---

## 5. 多言語対応詳細

### 5.1 翻訳対象範囲

| 対象 | 日本語例 | 英語例 |
|------|---------|--------|
| ナビゲーション | ホーム、商品一覧、カート | Home, Products, Cart |
| ボタン | カートに追加、購入手続きへ | Add to Cart, Proceed to Checkout |
| ラベル | 価格、在庫、数量 | Price, Stock, Quantity |
| メッセージ | カートに追加しました | Added to cart |
| エラー | 在庫が不足しています | Insufficient stock |
| 商品名 | Intel Core i9-14900K | Intel Core i9-14900K |
| 商品説明 | 第14世代Intelプロセッサー | 14th Gen Intel Processor |
| カテゴリ名 | メモリ | Memory |

### 5.2 翻訳対象外

| 対象 | 理由 |
|------|------|
| ユーザー入力データ | ユーザーが入力した住所、名前等 |
| 過去の注文履歴データ | 注文時点の言語で保存 |
| ブランド名 | 固有名詞のため翻訳不要 |
| 型番・スペック値 | 技術的な固有値のため |

### 5.3 言語切り替えUI

```
┌──────────────────────────────────────────────────┐
│  Logo    [検索バー]      🌐 [日本語 ▼]  [カート]  │
│                          ├─ 日本語              │
│                          └─ English             │
└──────────────────────────────────────────────────┘
```

---

## 6. 制約事項

1. **決済機能なし**: 実際の決済処理は行わない（デモ用のため）
2. **会員登録機能なし**: 事前に用意されたダミーユーザーのみ使用可能
3. **データ永続化なし**: サーバー再起動でデータはリセット
4. **画像**: プレースホルダー画像またはフリー素材を使用
5. **翻訳品質**: プロ翻訳ではなく、デモ用の簡易翻訳
6. **言語追加**: 現時点では日本語・英語の2言語のみ（将来的な言語追加は考慮した設計）

---

## 7. 用語定義

| 用語 | 定義 |
|------|------|
| SPA | Single Page Application。ページ遷移なしで動作するWebアプリケーション |
| ダミーデータ | テスト・デモ用に事前に用意された仮のデータ |
| フラッシュ | データの消去・リセット |
| カート | 購入予定商品を一時的に保存する機能 |
| i18n | Internationalization（国際化）の略。多言語対応の仕組み |
| ロケール | 言語と地域の組み合わせ（例: ja-JP, en-US） |
| フォールバック | 翻訳が存在しない場合に代替表示する仕組み |
| 名前空間 | 翻訳キーをグループ化して管理する単位 |
